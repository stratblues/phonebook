{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorMessage.js","App.js","index.js"],"names":["Filter","filter","handleChange","id","value","onChange","type","name","PersonForm","addPerson","newName","handleNameChange","handleNumberChange","newNumber","onSubmit","Persons","persons","deletePerson","f","includes","map","number","onClick","baseUrl","axios","get","then","response","data","personObject","post","delete","newObject","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","App","useState","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPeople","e","target","event","preventDefault","existingPerson","find","person","personId","window","confirm","changedNumber","returnedPerson","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.393cd50b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Filter = ({ filter, handleChange }) => {\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            filter shown with\r\n            <input id=\"filter\"\r\n                value={filter}\r\n                onChange={handleChange}\r\n                type=\"text\"\r\n                name=\"filter\" />\r\n\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({ addPerson, newName, handleNameChange, handleNumberChange, newNumber }) => {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>number : <input value={newNumber} onChange={handleNumberChange} /></div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\n\r\nconst Persons = ({ filter, persons, deletePerson }) => {\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        persons.filter(f => f.name.includes(filter) || filter === '')\r\n            .map(f =>\r\n                <li key={f.id}> {f.name} {f.number}\r\n                    <button onClick={() => deletePerson(f.id)}>delete</button>\r\n                </li>)\r\n    )\r\n}\r\n\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (personObject) => {\r\n    const request = axios.post(baseUrl, personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nconst destroy = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nexport default {\r\n    getAll, create, destroy, update\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n\r\n    }\r\n\r\n    if (message === null) {\r\n\r\n        return null\r\n\r\n    } else\r\n\r\n        return (\r\n\r\n            <div style={successStyle}>\r\n\r\n                {message}\r\n            </div>\r\n\r\n\r\n        )\r\n\r\n}\r\n\r\n\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n\r\n    }\r\n\r\n    if (message === null) {\r\n\r\n        return null\r\n\r\n    } else\r\n\r\n        return (\r\n\r\n            <div style={errorStyle}>\r\n\r\n                {message}\r\n            </div>\r\n\r\n\r\n        )\r\n\r\n}\r\n\r\n\r\n\r\nexport default ErrorMessage","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport './index.css'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState()\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n\n    personService\n      .getAll()\n      .then(initialPeople => {\n        setPersons(initialPeople)\n      })\n\n  }, [])\n\n  const deletePersonId = (id) => {\n    const personObject = persons.filter(person => person.id === id)\n    if (personObject) {\n\n      const result = window.confirm(`Do you want to delete ${personObject[0].name}?`)\n      if (result) {\n        personService\n          .destroy(id)\n        setPersons(persons.filter(person => person.id !== personObject[0].id))\n\n\n      }\n\n\n    }\n\n\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n\n    }\n\n    const existingPerson = persons.find(person => person.name === personObject.name)\n\n\n    if (existingPerson) {\n      const personId = existingPerson.id\n      const newNumber = window.confirm(`${existingPerson.name} is already added to phonebook, replace the old number with a new one?`)\n      if (newNumber) {\n        const changedNumber = { ...personObject }\n        personService\n          .update(personId, changedNumber).then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== personId ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n          }) \n          .catch(error => {\n            setErrorMessage(`${changedNumber.name} was already removed from the server!`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n\n\n\n\n      }\n\n\n    } else {\n\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(`You've added ${response.name} to the phonebook!`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n\n          }, 5000)\n\n        })\n\n\n    }\n  }\n\n\n\n\n  const handleNameChange = (event) => {\n\n    setNewName(event.target.value)\n\n  }\n\n  const handleNumberChange = (e) => {\n\n    setNewNumber(e.target.value)\n  }\n\n  const handleChange = (e) => {\n    setFilter(e.target.value)\n  }\n\n\n\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n\n\n      <Notification message={successMessage} />\n      <ErrorMessage message={errorMessage} />\n\n      <Filter filter={filter} handleChange={handleChange} />\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n\n\n      <Persons\n\n        filter={filter}\n        persons={persons}\n        deletePerson={deletePersonId} />\n\n    </div>\n  )\n}\n\nexport default App","\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n\n  <App />,\n\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}